{% import '_macros/common.html.j2' as com %}

{% macro item(data) %}
  {% call com.item_title() %}Administrative Information{% endcall %}
  {% call com.item_border() %}
    <dl class="space-y-4">
      {% call com.dl_item(title='Resource ID', id='admin-id') %}{{ data.item_id }}{% endcall %}

      {% call com.dl_item(title='Resource Revision', id='admin-revision') %}
        <a class="{{ com.link_classes() }}" href="{{ data.revision_link.href }}">{{ data.revision_link.value }} {{ com.restricted_i() }} {{ com.ext_link_i() }}</a>
      {% endcall %}

      {% if data.gitlab_issues %}
        {% call com.dl_item(title='GitLab Issues', id='admin-issues') %}
          <ul class="space-y-2">
            {% for item in data.gitlab_issues %}
              <li>{{ com.ext_link_a(href=item.href, value=item.value) }}</li>
            {% endfor %}
          </ul>
        {% endcall %}
      {% endif %}

      {% call com.dl_item(title='Item Restricted', id='admin-restricted') %}
        {% if data.restricted %}
          {% call com.alert(variant='red') %}Yes{% endcall %}
        {% else %}
          {% call com.alert(variant='green') %}No{% endcall %}
        {% endif %}
      {% endcall %}

      {% call com.dl_item(title='Resource Access Level', id='admin-level') %}
        {% if data.access_level == 'PUBLIC' %}
          {% call com.alert(variant='green') %}Public (Open Access){% endcall %}
        {% else %}
          {% call com.alert(variant='red') %}{{ data.access_level }}{% endcall %}
        {% endif %}
      {% endcall %}

      {% call com.dl_item(title='Access Permissions', id='admin-access') %}
        {% for permission in data.access %}
          <pre>{{ permission }}</pre>
        {% endfor %}
      {% endcall %}
    </dl>
  {% endcall %}
{% endmacro %}
